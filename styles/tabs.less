.tab-bar {
    background-color: @tab-bar-background-color;
    font-size: @font-size;

    .tab {
        max-width: 12.5em;
        padding: 0 2em 0 1em;
        height: @tab-height;
        background: @tab-background-color;
        border-bottom: @tab-border-height solid @accent-color-subtle;
        color: @text-color;
        font-size: inherit;
        line-height: @tab-height - @tab-border-height;
        box-shadow: 0 0 0.4375em transparent;
        transition: color 0.3s 0s @material-bezier, box-shadow 0.3s 0s @material-bezier, background-color 0.3s 0s @material-bezier, border-color 0.3s 0s @material-bezier;

        // tab divider
        &:not(:last-child):after {
            position: absolute;
            right: 0;
            bottom: 0 - @tab-border-height;
            width: 1px;
            height: @tab-height;
            background: rgba(0,0,0,0.15);
            content: '';
        }

        // icons
        .icon::before {
            font-size: @font-size;
            width: @font-size;
            height: @font-size;
            top: 0px;
        }

        // close icon
        .close-icon {
        	top: 0;
        	right: 0;
        	line-height: @tab-height - @tab-border-height;
            text-align: center;
        	width: 2em;

            // close icon
        	&::before {
        		font-family: 'Material Icons';
        		content: 'close';
        		font-weight: normal;
        		font-style: normal;
        		font-size: @font-size;
                width: auto;
                height: auto;
        		vertical-align: middle;
                display: inline-block;
        	}
        }

        // tab modified
        &.modified {
            // not hover icon
            &:not(:hover) .close-icon {
                top: 0;
                right: 0;
                width: 2em;
                height: auto;
                border: none;
                border-radius: 0;

                // modified icon
                &::before {
            		content: 'bubble_chart';
                    display: inline-block;
                    color: @accent-color-subtle;
                    transition: color 0.3s @material-bezier; // shouldn't need this?
            	}
            }

            // hover icon
            &:hover .close-icon {
                // modified icon
                &::before {
                    content: 'bubble_chart';
                    color: @accent-color;
                    transition: color 0.3s @material-bezier; // shouldn't need this?
            	}
            }
        }

        // tab hover
        &:hover {
            color: @text-color-highlight;
        }

        // tab active
        &.active {
            z-index: 10;
            border-bottom: @tab-border-height solid @accent-color;
            background-color: @tab-background-color-active;
            box-shadow: 0 0 0.4375em darken(@tab-background-color, 4%);
            color: @text-color-highlight;

            // tab modified
            &.modified:not(:hover) .close-icon {
                &::before {
                    color: @accent-color;
                    content: 'bubble_chart';
                }
            }

            // disable tab divider
            &:not(:last-child):after {
                background: transparent;
            }

            // next tab divider
            & + .tab {
                &:before {
                    position: absolute;
                    left: 0;
                    width: 1px;
                    height: @tab-height;
                    background: rgba(0,0,0,0.2);
                    content: '';
                }
            }

            // title
            .title {
                padding: 0;
            }
        }
    }

    // dragging placeholder
    .placeholder {
        box-sizing: content-box;
        margin: 0;
        margin-left: -1px;
        width: 2px;
        height: @tab-height;
        border-bottom: @tab-border-height solid @accent-color;
        background: @accent-color;
        pointer-events: none;

        // resorted to pixel values because of em scaling on a circle...
        // always lopsided because of subpixel values
        &:after {
            top: @tab-height;
            right: 0;
            bottom: 0;
            left: calc(-12px / 2 + 1);
            margin: 0;
            width: 12px;
            height: 12px;
            border: 3px solid @accent-color;
            border-radius: 50%;
            background: @accent-color-subtle;
        }
    }
}
